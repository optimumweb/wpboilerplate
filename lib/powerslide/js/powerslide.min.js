(function(a){a.fn.powerslide=function(){return this.each(function(){var b=a(this);var c=b.find(".viewport");var d=c.find(".slides");var e=d.children();var f=b.find(".play").size()?b.find(".play"):b.append('<a href="#" class="play hidden"></a>').find(".play");var g=b.find(".pause").size()?b.find(".pause"):b.append('<a href="#" class="pause hidden"></a>').find(".pause");var h=b.find(".prev").size()?b.find(".prev"):b.append('<a href="#" class="prev hidden"></a>').find(".prev");var i=b.find(".next").size()?b.find(".next"):b.append('<a href="#" class="next hidden"></a>').find(".next");var j=b.find(".goto");var k=b.data("autoplay")||"no";var l=b.data("hover-pause")||(k=="yes"?"yes":"no");var m=b.data("period")||5e3;var n=b.data("speed")||1e3;var o=e.size();h.addClass("disabled");o>1?i.addClass("enabled"):i.addClass("disabled");var p=0;var q=0;var r=0;e.each(function(b){var c=a(this);c.data("index",b);c.addClass("slide").addClass("slide_"+b);c.data("offset",q);q+=c.outerWidth(true);r=Math.max(r,c.outerHeight(true))});d.width(q);c.height(r);var s=0;if(l=="yes"){c.hover(function(){b.trigger("pause")},function(){b.trigger("play")})}b.bind("goto",function(a,c){if(c<0){c=0}if(c>o-1){c=o-1}b.trigger("sliding");var f=-e.eq(c).data("offset");d.stop(true,true).animate({left:f+"px"},n,function(){s=c;e.removeClass("current").eq(s).addClass("current");j.removeClass("active").filter(".slide_"+s).addClass("active");b.trigger("slided");s==o-1?i.addClass("disabled").removeClass("enabled"):i.addClass("enabled").removeClass("disabled");s==0?h.addClass("disabled").removeClass("enabled"):h.addClass("enabled").removeClass("disabled")})});j.each(function(){var b=a(this);var c=b.attr("href");var e=d.find(c);if(e.size()==1){var f=e.data("index");b.data("tsi",f);b.addClass("slide_"+f)}else{b.addClass("invalid")}});j.filter(".slide_"+s).addClass("active");j.click(function(c){c.preventDefault();var d=a(this);if(!d.hasClass("invalid")){var e=d.data("tsi");b.trigger("goto",[e])}});b.bind("next",function(a){var c=s+1;b.trigger("goto",[c])});i.click(function(c){c.preventDefault();if(a(this).hasClass("enabled")){b.trigger("next")}});b.bind("prev",function(a){var c=s-1;b.trigger("goto",[c])});h.click(function(c){c.preventDefault();if(a(this).hasClass("enabled")){b.trigger("prev")}});var t;b.bind("play",function(a){t=setInterval(function(){var a=s==o-1?0:s+1;b.trigger("goto",[a])},m);f.addClass("disabled").removeClass("enabled")});if(k=="yes"){b.trigger("play")}f.click(function(a){a.preventDefault();b.trigger("play")});b.bind("pause",function(a){clearInterval(t);g.addClass("disabled").removeClass("enabled")});g.click(function(a){a.preventDefault();b.trigger("pause")});b.trigger("init")})}})(jQuery)